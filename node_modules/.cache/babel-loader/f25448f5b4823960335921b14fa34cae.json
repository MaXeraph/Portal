{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\KaRjn\\\\Desktop\\\\CSC309\\\\team51\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\KaRjn\\\\Desktop\\\\CSC309\\\\team51\\\\src\\\\components\\\\ProtectedRoute.js\";\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport AuthContext from \"../context/AuthContext\";\n\nfunction ProtectedRoute(_ref) {\n  let _ref$requiredRole = _ref.requiredRole,\n      requiredRole = _ref$requiredRole === void 0 ? \"admin\" : _ref$requiredRole,\n      _ref$redirectTo = _ref.redirectTo,\n      redirectTo = _ref$redirectTo === void 0 ? \"/login\" : _ref$redirectTo,\n      props = _objectWithoutProperties(_ref, [\"requiredRole\", \"redirectTo\"]);\n\n  const _useContext = useContext(AuthContext),\n        role = _useContext.auth.role;\n\n  return role === requiredRole ? React.createElement(Route, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  })) : React.createElement(Redirect, {\n    to: redirectTo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  });\n}\n\nProtectedRoute.propTypes = {\n  redirectTo: PropTypes.string,\n  requiredRole: PropTypes.oneOf([\"student\", \"admin\"])\n};\nexport default ProtectedRoute;","map":{"version":3,"sources":["C:/Users/KaRjn/Desktop/CSC309/team51/src/components/ProtectedRoute.js"],"names":["PropTypes","React","useContext","Redirect","Route","AuthContext","ProtectedRoute","requiredRole","redirectTo","props","role","auth","propTypes","string","oneOf"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,kBAAhC;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;;AAEA,SAASC,cAAT,OAIG;AAAA,+BAHDC,YAGC;AAAA,MAHDA,YAGC,kCAHc,OAGd;AAAA,6BAFDC,UAEC;AAAA,MAFDA,UAEC,gCAFY,QAEZ;AAAA,MADEC,KACF;;AAAA,sBAGGP,UAAU,CAACG,WAAD,CAHb;AAAA,QAESK,IAFT,eAECC,IAFD,CAESD,IAFT;;AAID,SAAOA,IAAI,KAAKH,YAAT,GACL,oBAAC,KAAD,oBAAWE,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADK,GAGL,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAED,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF;AAKD;;AAEDF,cAAc,CAACM,SAAf,GAA2B;AACzBJ,EAAAA,UAAU,EAAER,SAAS,CAACa,MADG;AAEzBN,EAAAA,YAAY,EAAEP,SAAS,CAACc,KAAV,CAAgB,CAAC,SAAD,EAAY,OAAZ,CAAhB;AAFW,CAA3B;AAKA,eAAeR,cAAf","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { useContext } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"../context/AuthContext\";\r\n\r\nfunction ProtectedRoute({\r\n  requiredRole = \"admin\",\r\n  redirectTo = \"/login\",\r\n  ...props\r\n}) {\r\n  const {\r\n    auth: { role }\r\n  } = useContext(AuthContext);\r\n  return role === requiredRole ? (\r\n    <Route {...props} />\r\n  ) : (\r\n    <Redirect to={redirectTo} />\r\n  );\r\n}\r\n\r\nProtectedRoute.propTypes = {\r\n  redirectTo: PropTypes.string,\r\n  requiredRole: PropTypes.oneOf([\"student\", \"admin\"])\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"]},"metadata":{},"sourceType":"module"}