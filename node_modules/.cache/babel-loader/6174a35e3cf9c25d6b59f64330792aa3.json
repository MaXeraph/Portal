{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\KaRjn\\\\Desktop\\\\CSC309\\\\team51\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\KaRjn\\\\Desktop\\\\CSC309\\\\team51\\\\src\\\\components\\\\Header.js\";\nimport { Link } from \"react-router-dom\";\nimport React, { useContext, useState, useRef } from \"react\";\nimport useOnClickOutside from \"../utils/useOnClickOutside\";\nimport AuthContext from \"../context/AuthContext\";\nimport { ROLES } from \"../constants/auth\";\nimport { UsersContext } from \"../context/UsersContext\";\n\nfunction Header() {\n  const ref = useRef();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isMenuOpen = _useState2[0],\n        setIsMenuOpen = _useState2[1];\n\n  const _useContext = useContext(AuthContext),\n        _useContext$auth = _useContext.auth,\n        isLoggedIn = _useContext$auth.isLoggedIn,\n        role = _useContext$auth.role,\n        userId = _useContext$auth.userId;\n\n  const usersContext = useContext(UsersContext);\n  const user = usersContext.users[userId];\n  useOnClickOutside(ref, () => setIsMenuOpen(false));\n\n  function handleAvatarClick() {\n    setIsMenuOpen(true);\n  }\n\n  const menuLinks = [[\"Profile\", \"/user/\".concat(userId)], role === ROLES.ADMIN && [\"Admin\", \"/admin\"], [\"Logout\", \"/logout\"]].filter(Boolean);\n  return React.createElement(\"nav\", {\n    className: \"flex items-center justify-between flex-wrap bg-blue-500 p-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"block font-semibold text-xl text-white px-4 tracking-tight\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Portal\"), React.createElement(\"div\", {\n    className: \"flex flex-grow items-center w-auto mx-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/request\",\n    className: \"block text-sm text-white hover:text-blue-200 mr-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Explore Courses\")), isLoggedIn ? React.createElement(\"div\", {\n    className: \"relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"block h-10 w-10 rounded-full overflow-hidden border-2 border-gray-600 focus:outline-none focus:border-white\",\n    onClick: handleAvatarClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: user.userInfo.name || \"\",\n    className: \"h-full w-fill object-cover\",\n    src: user.userInfo.img || \"/img/avatar-default.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })), isMenuOpen && React.createElement(\"div\", {\n    ref: ref,\n    className: \"absolute right-0 overflow-hidden mt-2 py-2 w-24 bg-white rounded-lg shadow-xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, menuLinks.map(([label, url]) => React.createElement(Link, {\n    className: \"block px-4 py-2 text-gray-800 hover:bg-indigo-500 hover:text-white\",\n    to: url,\n    key: url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, label)))) : React.createElement(Link, {\n    to: \"/login\",\n    className: \"block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-blue-500 hover:bg-white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Login\"));\n}\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/KaRjn/Desktop/CSC309/team51/src/components/Header.js"],"names":["Link","React","useContext","useState","useRef","useOnClickOutside","AuthContext","ROLES","UsersContext","Header","ref","isMenuOpen","setIsMenuOpen","auth","isLoggedIn","role","userId","usersContext","user","users","handleAvatarClick","menuLinks","ADMIN","filter","Boolean","userInfo","name","img","map","label","url"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,MAAtC,QAAoD,OAApD;AAEA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,SAASC,YAAT,QAA6B,yBAA7B;;AAEA,SAASC,MAAT,GAAkB;AAChB,QAAMC,GAAG,GAAGN,MAAM,EAAlB;;AADgB,oBAEoBD,QAAQ,CAAC,KAAD,CAF5B;AAAA;AAAA,QAETQ,UAFS;AAAA,QAEGC,aAFH;;AAAA,sBAKZV,UAAU,CAACI,WAAD,CALE;AAAA,uCAIdO,IAJc;AAAA,QAINC,UAJM,oBAINA,UAJM;AAAA,QAIMC,IAJN,oBAIMA,IAJN;AAAA,QAIYC,MAJZ,oBAIYA,MAJZ;;AAMhB,QAAMC,YAAY,GAAGf,UAAU,CAACM,YAAD,CAA/B;AACA,QAAMU,IAAI,GAAGD,YAAY,CAACE,KAAb,CAAmBH,MAAnB,CAAb;AAEAX,EAAAA,iBAAiB,CAACK,GAAD,EAAM,MAAME,aAAa,CAAC,KAAD,CAAzB,CAAjB;;AAEA,WAASQ,iBAAT,GAA6B;AAC3BR,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD;;AAED,QAAMS,SAAS,GAAG,CAChB,CAAC,SAAD,kBAAqBL,MAArB,EADgB,EAEhBD,IAAI,KAAKR,KAAK,CAACe,KAAf,IAAwB,CAAC,OAAD,EAAU,QAAV,CAFR,EAGhB,CAAC,QAAD,EAAW,SAAX,CAHgB,EAIhBC,MAJgB,CAITC,OAJS,CAAlB;AAMA,SACE;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,4DAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIE;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,SAAS,EAAC,mDAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CAJF,EAYGV,UAAU,GACT;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,6GADZ;AAEE,IAAA,OAAO,EAAEM,iBAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,GAAG,EAAEF,IAAI,CAACO,QAAL,CAAcC,IAAd,IAAsB,EAD7B;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAGE,IAAA,GAAG,EAAER,IAAI,CAACO,QAAL,CAAcE,GAAd,IAAqB,yBAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF,EAWGhB,UAAU,IACT;AACE,IAAA,GAAG,EAAED,GADP;AAEE,IAAA,SAAS,EAAC,+EAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGW,SAAS,CAACO,GAAV,CAAc,CAAC,CAACC,KAAD,EAAQC,GAAR,CAAD,KACb,oBAAC,IAAD;AACE,IAAA,SAAS,EAAC,oEADZ;AAEE,IAAA,EAAE,EAAEA,GAFN;AAGE,IAAA,GAAG,EAAEA,GAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGD,KALH,CADD,CAJH,CAZJ,CADS,GA8BT,oBAAC,IAAD;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,SAAS,EAAC,yIAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aA1CJ,CADF;AAoDD;;AAED,eAAepB,MAAf","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport React, { useContext, useState, useRef } from \"react\";\r\n\r\nimport useOnClickOutside from \"../utils/useOnClickOutside\";\r\nimport AuthContext from \"../context/AuthContext\";\r\nimport { ROLES } from \"../constants/auth\";\r\nimport { UsersContext } from \"../context/UsersContext\";\r\n\r\nfunction Header() {\r\n  const ref = useRef();\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const {\r\n    auth: { isLoggedIn, role, userId }\r\n  } = useContext(AuthContext);\r\n  const usersContext = useContext(UsersContext);\r\n  const user = usersContext.users[userId];\r\n\r\n  useOnClickOutside(ref, () => setIsMenuOpen(false));\r\n\r\n  function handleAvatarClick() {\r\n    setIsMenuOpen(true);\r\n  }\r\n\r\n  const menuLinks = [\r\n    [\"Profile\", `/user/${userId}`],\r\n    role === ROLES.ADMIN && [\"Admin\", \"/admin\"],\r\n    [\"Logout\", \"/logout\"]\r\n  ].filter(Boolean);\r\n\r\n  return (\r\n    <nav className=\"flex items-center justify-between flex-wrap bg-blue-500 p-4\">\r\n      <span className=\"block font-semibold text-xl text-white px-4 tracking-tight\">\r\n        Portal\r\n      </span>\r\n      <div className=\"flex flex-grow items-center w-auto mx-4\">\r\n        <Link\r\n          to=\"/request\"\r\n          className=\"block text-sm text-white hover:text-blue-200 mr-4\"\r\n        >\r\n          Explore Courses\r\n        </Link>\r\n      </div>\r\n      {isLoggedIn ? (\r\n        <div className=\"relative\">\r\n          <button\r\n            className=\"block h-10 w-10 rounded-full overflow-hidden border-2 border-gray-600 focus:outline-none focus:border-white\"\r\n            onClick={handleAvatarClick}\r\n          >\r\n            <img\r\n              alt={user.userInfo.name || \"\"}\r\n              className=\"h-full w-fill object-cover\"\r\n              src={user.userInfo.img || \"/img/avatar-default.png\"}\r\n            />\r\n          </button>\r\n          {isMenuOpen && (\r\n            <div\r\n              ref={ref}\r\n              className=\"absolute right-0 overflow-hidden mt-2 py-2 w-24 bg-white rounded-lg shadow-xl\"\r\n            >\r\n              {menuLinks.map(([label, url]) => (\r\n                <Link\r\n                  className=\"block px-4 py-2 text-gray-800 hover:bg-indigo-500 hover:text-white\"\r\n                  to={url}\r\n                  key={url}\r\n                >\r\n                  {label}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <Link\r\n          to=\"/login\"\r\n          className=\"block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-blue-500 hover:bg-white\"\r\n        >\r\n          Login\r\n        </Link>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}