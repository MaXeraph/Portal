{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\KaRjn\\\\Desktop\\\\CSC309\\\\team51\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\KaRjn\\\\Desktop\\\\CSC309\\\\team51\\\\frontend\\\\src\\\\pages\\\\Login.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { ROLES } from \"../constants/auth\";\nimport AuthContext from \"../context/AuthContext\";\n\nfunction Login() {\n  const _useContext = useContext(AuthContext),\n        isLoggedIn = _useContext.auth.isLoggedIn,\n        setAuth = _useContext.setAuth;\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        id = _useState2[0],\n        setId = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const history = useHistory();\n  useEffect(() => {\n    if (isLoggedIn) {\n      history.push(\"/\");\n    }\n  });\n\n  function updateID(e) {\n    setId(e.target.value);\n  }\n\n  function updatePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function checkCredentials(e) {\n    e.preventDefault(); //admin\n\n    if (id === \"admin\" && password === \"admin\") {\n      setAuth({\n        isLoggedIn: true,\n        userId: 0,\n        role: ROLES.ADMIN\n      });\n      history.push(\"/\");\n    } //student\n    else if (id === \"user\" && password === \"user\") {\n        setAuth({\n          isLoggedIn: true,\n          userId: 1,\n          role: ROLES.STUDENT\n        });\n        history.push(\"/\");\n      } else if (id === \"user2\" && password === \"user2\") {\n        setAuth({\n          isLoggedIn: true,\n          userId: 2,\n          role: ROLES.STUDENT\n        });\n        history.push(\"/\");\n      } else if (id === \"user3\" && password === \"user3\") {\n        setAuth({\n          isLoggedIn: true,\n          userId: 3,\n          role: ROLES.STUDENT\n        });\n        history.push(\"/\");\n      } else {\n        alert(\"Wrong Credentials\");\n      }\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"w-full mx-auto py-10 max-w-md\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 mx-auto\",\n    onSubmit: checkCredentials,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"block text-gray-700 text-sm font-bold mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    className: \"shadow appearance-none border roded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline\",\n    un: true,\n    type: \"text\",\n    id: \"username\",\n    placeholder: \"username\",\n    value: id,\n    onChange: updateID,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mb-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"block text-gray-700 text-sm font-bold mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 focus:outline-none focus:shadow-outline\",\n    type: \"password\",\n    id: \"password\",\n    placeholder: \"*****************\",\n    value: password,\n    onChange: updatePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"flex items-center justify-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Sign In\"), React.createElement(Link, {\n    className: \"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\",\n    to: \"/forgot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Forgot Password ?\"), React.createElement(Link, {\n    className: \"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\",\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Create Account\"))), React.createElement(\"p\", {\n    className: \"text-center text-gray-500 text-xs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"\\xA9 2019 Portal.All rights reserved.\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/KaRjn/Desktop/CSC309/team51/frontend/src/pages/Login.js"],"names":["React","useContext","useState","useEffect","Link","useHistory","ROLES","AuthContext","Login","isLoggedIn","auth","setAuth","id","setId","password","setPassword","history","push","updateID","e","target","value","updatePassword","checkCredentials","preventDefault","userId","role","ADMIN","STUDENT","alert"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { ROLES } from \"../constants/auth\";\r\nimport AuthContext from \"../context/AuthContext\";\r\n\r\nfunction Login() {\r\n  const {\r\n    auth: { isLoggedIn },\r\n    setAuth\r\n  } = useContext(AuthContext);\r\n  const [id, setId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n  });\r\n\r\n  function updateID(e) {\r\n    setId(e.target.value);\r\n  }\r\n\r\n  function updatePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function checkCredentials(e) {\r\n    e.preventDefault();\r\n\r\n    //admin\r\n    if (id === \"admin\" && password === \"admin\") {\r\n      setAuth({ isLoggedIn: true, userId: 0, role: ROLES.ADMIN });\r\n      history.push(\"/\");\r\n    }\r\n\r\n    //student\r\n    else if (id === \"user\" && password === \"user\") {\r\n      setAuth({ isLoggedIn: true, userId: 1, role: ROLES.STUDENT });\r\n      history.push(\"/\");\r\n    } else if (id === \"user2\" && password === \"user2\") {\r\n      setAuth({ isLoggedIn: true, userId: 2, role: ROLES.STUDENT });\r\n      history.push(\"/\");\r\n    } else if (id === \"user3\" && password === \"user3\") {\r\n      setAuth({ isLoggedIn: true, userId: 3, role: ROLES.STUDENT });\r\n      history.push(\"/\");\r\n    } else {\r\n      alert(\"Wrong Credentials\");\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <div className=\"w-full mx-auto py-10 max-w-md\">\r\n        <form\r\n          className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 mx-auto\"\r\n          onSubmit={checkCredentials}\r\n        >\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n              Username\r\n            </label>\r\n            <input\r\n              className=\"shadow appearance-none border roded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline\"\r\n              un\r\n              type=\"text\"\r\n              id=\"username\"\r\n              placeholder=\"username\"\r\n              value={id}\r\n              onChange={updateID}\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n              Password\r\n            </label>\r\n            <input\r\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 focus:outline-none focus:shadow-outline\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"*****************\"\r\n              value={password}\r\n              onChange={updatePassword}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-between\">\r\n            <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\r\n              Sign In\r\n            </button>\r\n            <Link\r\n              className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\"\r\n              to=\"/forgot\"\r\n            >\r\n              Forgot Password ?\r\n            </Link>\r\n            <Link\r\n              className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\"\r\n              to=\"/signup\"\r\n            >\r\n              Create Account\r\n            </Link>\r\n          </div>\r\n        </form>\r\n        <p className=\"text-center text-gray-500 text-xs\">\r\n          &copy; 2019 Portal.All rights reserved.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}